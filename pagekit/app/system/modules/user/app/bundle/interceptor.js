!function(e){function t(r){if(s[r])return s[r].exports;var n=s[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var s={};return t.m=e,t.c=s,t.p="",t(0)}({0:function(e,t,s){var r,n=s(12);Vue.http.interceptors.push(function(){var e;return{request:function(t){return e=_.clone(t),t},response:function(t){return 401!==t.status||e.headers["X-LOGIN"]?t:(r||(r=new Vue(n).promise["finally"](function(){r=void 0})),r.then(function(){return Vue.http(e)}))}}})},3:function(e,t){"use strict";e.exports={data:function(){return{credentials:{},remember:!1}},created:function(){this.$mount().$appendTo("body"),this.promise=this.$promise(function(e,t){this.fulfill=e,this.reject=t})},ready:function(){var e=this;this.$refs.login.open(),this.$refs.login.modal.on("hide.uk.modal",function(){e.reject(),e.$destroy()})},methods:{login:function s(){var s=function(){return this.$http.post("user/authenticate",{credentials:this.credentials,_remember_me:this.remember},{headers:{"X-LOGIN":!0}})}.bind(this);s().then(null,function(e){return e.data.csrf?(this.$cache.set("_csrf",e.data.csrf),this.$cache.set("_session",window.$pagekit.csrf),this.$session.flush(),s()):Vue.Promise.reject(e)}).then(function(e){this.$cache.set("_csrf",e.data.csrf),this.fulfill(),this.$refs.login.close()},function(e){this.$notify(e.data,"danger"),this.$els.login.classList.remove("uk-animation-shake"),this.$nextTick(function(){this.$els.login.classList.add("uk-animation-shake")}),this.$els.password.focus()})}}}},8:function(e,t){e.exports='<div> <v-modal v-ref:login> <div class=uk-text-center> <img class=uk-margin :src="$url(\'app/system/assets/images/pagekit-logo-text-black.svg\')" alt=Pagekit> <p class=uk-text-danger>{{ \'Session expired. Please log in again.\' | trans }}</p> <form class="uk-form tm-form" @submit.prevent=login v-el:login> <div class="uk-panel uk-panel-box"> <div class=uk-form-row> <input class="uk-form-large uk-width-1-1" type=text name=credentials[username] placeholder="{{ \'Username\' | trans }}" autofocus v-model=credentials.username> </div> <div class=uk-form-row> <input class="uk-form-large uk-width-1-1" type=password name=credentials[password] placeholder="{{ \'Password\' | trans }}" v-model=credentials.password v-el:password> </div> <p class="uk-form-row tm-panel-marginless-bottom"> <button class="uk-button uk-button-primary uk-button-large uk-width-1-1">{{ \'Login\' | trans }}</button> </p> </div> <p> <label class=uk-form><input type=checkbox v-model=remember> {{ \'Remember Me\' | trans }}</label> </p> </form> </div> </v-modal> </div>'},12:function(e,t,s){var r,n;r=s(3),n=s(8),e.exports=r||{},e.exports.__esModule&&(e.exports=e.exports["default"]),n&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=n)}});